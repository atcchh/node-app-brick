var RestfulClient = require('./restClient.js')
var URL = require('url');
var param = {};
param.password='6EE9C87756684E928ACB35AA280E56142933A8B897036DEEE6CDB9CD9BF93AE0B6459E565768BB8ED97532E9D0B5FF6339C5761EE1AF686D95EF0EFF9DC2F0B93818C2D82D0F7C9345A81880F841229DD2C7B65FFEFD809E33EA63E5BC026F210D620A62FD5BFB01225AC0511E69A548385ADEB1F97424B47818EE6133FCC1B4';
param.userNameLogin='oneforce';
param.pwd='************';
param.validNum='r3ct';

var http = require('http');
var https = require('https');


var urlString = 'https://user.lufax.com/user/login';
var method = 'POST';
var data = param;

	var url = URL.parse(urlString);
	var options = {
		hostname: url.hostname,
		port: url.protocol === 'http:'? 80:443,
		path: url.path,
		method: method,
		headers:{
							'Content-Type':'application/x-www-form-urlencoded',
							'Connection':'close',
							'Cookie':'IMVC=111111111'

		}
	};
	console.log(options);

	var req = https.request(options, function(res) {
		if(res.statusCode != 200){

		} 

		res.setEncoding('utf8');
		var buffer = '';
		res.on('data', function (chunk) {
			buffer += chunk;
		});
		try {
			res.on('end', function () {
				console.log(buffer);
			});
		} catch(e) {
			console.log(e);
		}	
	});

	req.on('error', function(e) {
	});


	req.write('');
	req.end('password=1&userNameLogin=oneforce&validNum=r3ct');


