// test database.js
var Database = require('../lib/databasePromise.js') 

var db = new Database('exampleDb1');
var testCollection = db.getCollection('T1');
var  id = "1406107123902";

testCollection.insert({'name':'cango3111', 'age':121212, 'id':id})
    .then(function(data){
        console.log(data)
        return testCollection.find({id:1406107123902});
    }) .then(function(data){
        console.log(data);
        data[0].address = 'shanghai';
        data[0].name = 'John';
        data[0].name1 = 'John';
        return testCollection.update(1406107123902, data[0])
    }).then(function(num) {
        console.log("update number is : " + num)
        return testCollection.find({id:1406107123902});
    }).then(function(data){
        console.log(data);
    });